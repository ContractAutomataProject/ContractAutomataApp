package CA;
import java.io.BufferedReader;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.util.Arrays;

import FSA.FSA;
import FSA.Simulator;
import FSA.Transition;



/**
 * @author Davide Basile
 *
 */
@SuppressWarnings("serial")
public class CA  extends FSA implements java.io.Serializable
{
	private int[] states;
	private int[] initial;
	private int[][] finalstates;
	private Transition[] tra;
	private static String message = "*** CA simulator ***\n";
	
	/**
	 * Invoke the super constructor and take in input the added new parameters of the automaton
	 */
	public CA()
	{

		super(message);
		System.out.println(message);
		try{
			InputStreamReader reader = new InputStreamReader (System.in);
	        BufferedReader myInput = new BufferedReader (reader);
			System.out.println("Insert the number of states:");
	        this.states = Integer.parseInt(myInput.readLine());
	        System.out.println("Insert Id of initial State (the id starts from 0)");
			initial = Integer.parseInt(myInput.readLine());
			System.out.println("Insert the number of final states");
			int finalstate = Integer.parseInt(myInput.readLine());
			finalstates = new int[finalstate];
			for(int i=0;i<finalstate;i++){
	        	System.out.println("Insert the Id of the final states number " + i);
	        	finalstates[i]=Integer.parseInt(myInput.readLine());
	        }
			System.out.println("Insert the number of transitions:");
			int num_trans= Integer.parseInt(myInput.readLine());
			tra = new Transition[num_trans];
			for (int i=0;i<num_trans;i++)
				tra[i] = createTransition(i);
		}
		catch (Exception e){System.out.println("Errore inserimento");}
	}

	
	
	
	/**
	 * Print in output a description of the automaton
	 */
	public void print()
	{
		super.print();
	}
	
	
	
	/**
	 * Create an instance of the simulator for an FMA
	 */
	protected Simulator createSim()
	{
		//return new FMASimulator(this);
		return null;
	}
	
}
